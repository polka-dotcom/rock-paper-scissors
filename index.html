<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div id="result" style="border: 4px solid black; color: blue;  width: 200px; height: 30px; margin-top: 30px;"></div>
    <div id="score" style="color: black; margin-top: 30px;">Your Score: 0 | Computer Score: 0</div>


    <script>

        let humanScore = 0;
        let computerScore = 0;
        let resultMsg = "";

        function getComputerChoice() {
            const choices = ["rock", "paper", "scissors"]; 
            const indx = Math.floor(Math.random()*3);
            return choices[indx];
        }

        /*
        function getHumanChoice() {
             let h = prompt("Choose: Rock, Paper or Scissors: ").toLowerCase(); 

             const choices = ["rock", "paper", "scissors"]; 
             while (!choices.includes(h)) {
                h = prompt("Invalid choice. Choose: Rock, Paper or Scissors: ").toLowerCase();
             }
             return h;
        }
        */

        function playRound(h, c) {
            if (h == "rock") {
                if (c == "rock") {
                    resultMsg = "That's a tie";
                } else if (c == "paper") {
                    computerScore++; 
                    resultMsg = "You lose! Paper beats Rock";
                } else {
                    humanScore++; 
                    resultMsg = "You win! Rock beats Scissors";
                }
            }

            if (h == "paper") {
                if (c == "paper") {
                    resultMsg = "That's a tie";
                } else if (c == "scissors") {
                    computerScore++; 
                    resultMsg = "You lose! Scissors beats Paper";
                } else {
                    humanScore++; 
                    resultMsg = "You win! Paper beats Rock";
                }
            }

            if (h == "scissors") {
                if (c == "scissors") {
                    resultMsg = "That's a tie";
                } else if (c == "rock") {
                    computerScore++; 
                    resultMsg = "You lose! Rock beats Scissors";
                } else {
                    humanScore++; 
                    resultMsg = "You win! Scissors beats Paper";
                }
            }
        }

        function playGame(playerSelection) {
            const computerSelection = getComputerChoice(); 
            const result = playRound(playerSelection, computerSelection);
            // console.log(result);

            document.getElementById("result").textContent = resultMsg;
            document.getElementById("score").textContent = `Your Score: ${humanScore} | Computer Score: ${computerScore}`;

            if (humanScore == 5) {
                document.getElementById("score").textContent = "Game Over! YOU WIN :)";
                document.getElementById("rock").disabled = true;
                document.getElementById("paper").disabled = true;
                document.getElementById("scissors").disabled = true;
                return;
            } else if (computerScore == 5) {
                document.getElementById("score").textContent = "Game Over! You lose :(";
                document.getElementById("rock").disabled = true;
                document.getElementById("paper").disabled = true;
                document.getElementById("scissors").disabled = true;
                return;
            }
            /*
            for (let i = 0; i < 5; i++) {
                const computerSelection = getComputerChoice(); 
                const humanSelection = getHumanChoice();
                
                const result = playRound(humanSelection, computerSelection);
                console.log(result);

                console.log("Your points: " + humanScore);
                console.log("Computer points " + computerScore); 
            }

            if (humanScore > computerScore) {
                return "You WIN! :)"; 
            } else if (humanScore < computerScore) {
                return "You've lost :("
            } else {
                return "It's a tie :/"
            }
            */
        }

        /*const game = playGame();
        console.log(game);*/

        document.getElementById("rock").addEventListener("click", () => playGame("rock"));
        document.getElementById("paper").addEventListener("click", () => playGame("paper"));
        document.getElementById("scissors").addEventListener("click", () => playGame("scissors"));
    </script>
</body>
</html>